@import "https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;600&display=swap";
:root{--bg-primary:#0a0a0a;--bg-secondary:#141414;--bg-tertiary:#1a1a1a;--bg-card:#1a1a1acc;--bg-glass:#1e1e1e99;--text-primary:#f5f5f5;--text-secondary:#a3a3a3;--text-muted:#737373;--accent:#f59e0b;--accent-hover:#fbbf24;--accent-subtle:#f59e0b26;--border:#ffffff14;--border-accent:#f59e0b4d;--shadow:0 8px 32px #0006;--radius-sm:8px;--radius-md:12px;--radius-lg:16px;--radius-xl:20px;--lightningcss-light: ;--lightningcss-dark:initial;color-scheme:dark;font-family:Noto Sans JP,system-ui,sans-serif}*{box-sizing:border-box;margin:0;padding:0}html,body{height:100%}body{background:linear-gradient(145deg,var(--bg-primary)0%,var(--bg-secondary)100%);color:var(--text-primary);overflow:hidden}body:before{content:"";opacity:.03;pointer-events:none;z-index:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");position:fixed;inset:0}button,input,textarea{font-family:inherit}.page{z-index:1;flex-direction:column;height:100dvh;display:flex;position:relative}.header{background:var(--bg-glass);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);flex-shrink:0;justify-content:space-between;align-items:center;gap:12px;padding:12px 16px;display:flex}.header h1{letter-spacing:-.02em;background:linear-gradient(135deg,var(--text-primary)0%,var(--accent)100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;font-family:Outfit,sans-serif;font-size:18px;font-weight:700}.header p{color:var(--text-muted);font-size:11px;display:none}.header-right{flex-shrink:0;align-items:center;gap:12px;display:flex}.auth-status{flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:8px;display:flex}.user-email{color:var(--text-secondary);text-overflow:ellipsis;white-space:nowrap;max-width:160px;font-size:12px;overflow:hidden}.auth-button{cursor:pointer;white-space:nowrap;border:none;border-radius:999px;padding:8px 14px;font-size:12px;font-weight:600;transition:all .2s}.auth-button.login{color:#fff;background:linear-gradient(135deg,#4285f4 0%,#356ac3 100%)}.auth-button.login:hover{transform:translateY(-1px);box-shadow:0 4px 12px #4285f44d}.auth-button.logout{background:var(--bg-tertiary);border:1px solid var(--border);color:var(--text-secondary)}.auth-button.logout:hover{border-color:var(--accent);color:var(--accent)}.main{flex-direction:column;flex:1;display:flex;overflow:hidden}.mobile-layout{flex-direction:column;height:100%;display:flex;overflow:hidden}.sidebar{display:none}.tabs-section{background:var(--bg-glass);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-bottom:1px solid var(--border);flex-shrink:0}.tabs-header{border-bottom:1px solid var(--border);gap:0;display:flex}.tab-button{color:var(--text-muted);cursor:pointer;background:0 0;border:none;flex:1;padding:12px 16px;font-size:14px;font-weight:500;transition:color .2s,background .2s;position:relative}.tab-button.active{color:var(--accent);background:var(--accent-subtle)}.tab-button.active:after{content:"";background:var(--accent);height:2px;position:absolute;bottom:-1px;left:0;right:0}.swipeable-tabs{touch-action:pan-y}.tab-content{min-height:200px;max-height:35vh;padding:12px;overflow-y:auto}.before-after-slider{width:100%;aspect-ratio:var(--slider-aspect,4/3);border-radius:var(--radius-md);background:var(--bg-tertiary);cursor:ew-resize;-webkit-user-select:none;user-select:none;touch-action:none;position:relative;overflow:hidden}.before-after-slider.compact{aspect-ratio:16/10;max-height:180px;margin-top:12px}.slider-image-container{width:100%;height:100%;position:relative}.slider-image{object-fit:contain;width:100%;height:100%;position:absolute;top:0;left:0}.slider-image-clip,.slider-image-clip .slider-image{width:100%;height:100%;position:absolute;top:0;left:0}.slider-handle{z-index:10;justify-content:center;align-items:center;width:4px;display:flex;position:absolute;top:0;bottom:0;transform:translate(-50%)}.slider-handle-bar{background:#fff;width:2px;position:absolute;top:0;bottom:0;box-shadow:0 0 8px #00000080}.slider-handle-circle{color:#333;z-index:11;background:#fff;border-radius:50%;justify-content:center;align-items:center;width:40px;height:40px;font-size:12px;display:flex;box-shadow:0 2px 8px #0000004d}.slider-labels{pointer-events:none;justify-content:space-between;display:flex;position:absolute;bottom:8px;left:8px;right:8px}.slider-labels span{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);text-transform:uppercase;background:#000000b3;border-radius:4px;padding:4px 8px;font-size:11px;font-weight:600}.analysis-preview-card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);cursor:pointer;flex-direction:column;align-items:center;gap:12px;padding:16px;transition:border-color .2s;display:flex}.analysis-preview-card:hover{border-color:var(--accent)}.analysis-score-big{align-items:baseline;gap:4px;display:flex}.score-number{background:linear-gradient(135deg,var(--accent)0%,var(--accent-hover)100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;font-family:Outfit,sans-serif;font-size:48px;font-weight:700}.score-max{color:var(--text-muted);font-size:18px}.details-button{background:var(--accent-subtle);border:1px solid var(--border-accent);color:var(--accent);cursor:pointer;border-radius:999px;padding:8px 16px;font-size:13px;font-weight:500;transition:background .2s}.details-button:hover{background:var(--accent);color:#000}.chat-panel{flex-direction:column;flex:1;min-height:0;display:flex;overflow:hidden}.chat-messages{flex-direction:column;flex:1;gap:12px;padding:16px;display:flex;overflow-y:auto}.chat-messages::-webkit-scrollbar{width:4px}.chat-messages::-webkit-scrollbar-track{background:0 0}.chat-messages::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}.message{border-radius:var(--radius-lg);max-width:90%;padding:12px 14px;font-size:14px;line-height:1.6;animation:.3s ease-out messageIn}@keyframes messageIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.message.user{background:linear-gradient(135deg,var(--accent)0%,#d97706 100%);color:#000;border-bottom-right-radius:4px;align-self:flex-end}.message.agent{background:var(--bg-tertiary);border:1px solid var(--border);color:var(--text-primary);border-bottom-left-radius:4px;align-self:flex-start}.embedded-photo-card{margin-top:12px}.embedded-analysis-card{background:var(--accent-subtle);border:1px solid var(--border-accent);border-radius:var(--radius-md);cursor:pointer;align-items:center;gap:12px;margin-top:12px;padding:12px;display:flex}.mini-score{align-items:baseline;gap:2px;display:flex}.mini-score-value{color:var(--accent);font-family:Outfit,sans-serif;font-size:24px;font-weight:700}.mini-score-label{color:var(--text-muted);font-size:12px}.tap-hint{color:var(--text-secondary);font-size:12px}.message.agent h1,.message.agent h2,.message.agent h3,.message.agent h4{color:var(--accent);margin-top:12px;margin-bottom:8px;font-family:Outfit,sans-serif;font-weight:600}.message.agent h1:first-child,.message.agent h2:first-child,.message.agent h3:first-child,.message.agent h4:first-child{margin-top:0}.message.agent h3{font-size:15px}.message.agent h4{font-size:14px}.message.agent p{margin:8px 0}.message.agent p:first-child{margin-top:0}.message.agent p:last-child{margin-bottom:0}.message.agent strong{color:var(--accent);font-weight:600}.message.agent ul,.message.agent ol{margin:8px 0;padding-left:20px}.message.agent li{margin:4px 0}.message.agent li::marker{color:var(--accent)}.message.agent code{background:#0000004d;border-radius:4px;padding:2px 6px;font-family:SF Mono,Consolas,monospace;font-size:13px}.message.agent pre{border-radius:var(--radius-sm);background:#0006;margin:8px 0;padding:12px;overflow-x:auto}.message.agent pre code{background:0 0;padding:0}.message.agent blockquote{border-left:3px solid var(--accent);color:var(--text-secondary);margin:8px 0;padding-left:12px}.message.agent table{border-collapse:collapse;width:100%;margin:12px 0;font-size:13px}.message.agent th,.message.agent td{border:1px solid var(--border);text-align:left;padding:8px 10px}.message.agent th{background:var(--accent-subtle);color:var(--accent);font-weight:600}.composer{background:var(--bg-glass);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-top:1px solid var(--border);flex-shrink:0;align-items:flex-end;gap:8px;padding:12px 16px;display:flex}.camera-button{background:var(--accent);cursor:pointer;color:#000;border:none;border-radius:50%;flex-shrink:0;justify-content:center;align-items:center;width:44px;height:44px;transition:background .2s,transform .2s;display:flex}.camera-button svg{width:22px;height:22px}.camera-button:hover:not(:disabled){background:var(--accent-hover);transform:scale(1.05)}.camera-button:disabled{opacity:.5}.composer textarea{resize:none;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-md);min-height:44px;max-height:120px;color:var(--text-primary);flex:1;padding:12px 14px;font-size:14px;line-height:1.4;transition:border-color .2s}.composer textarea:focus{border-color:var(--accent);outline:none}.composer textarea::placeholder{color:var(--text-muted)}.composer textarea:disabled{opacity:.5}.send-button{background:linear-gradient(135deg,var(--accent)0%,#d97706 100%);color:#000;cursor:pointer;border:none;border-radius:999px;flex-shrink:0;padding:12px 18px;font-size:14px;font-weight:600;transition:transform .2s,box-shadow .2s}.send-button:disabled{opacity:.5;cursor:not-allowed}.send-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #f59e0b4d}.bottom-sheet-overlay{z-index:100;background:#0009;align-items:flex-end;animation:.2s fadeIn;display:flex;position:fixed;inset:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.bottom-sheet{background:var(--bg-secondary);border-top-left-radius:var(--radius-xl);border-top-right-radius:var(--radius-xl);width:100%;padding:12px 20px 32px;animation:.3s slideUp}@keyframes slideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}.bottom-sheet-handle{background:var(--border);border-radius:2px;width:36px;height:4px;margin:0 auto 16px}.bottom-sheet-content h3{text-align:center;color:var(--text-secondary);margin-bottom:16px;font-family:Outfit,sans-serif;font-size:16px;font-weight:600}.sheet-option{background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-md);width:100%;color:var(--text-primary);cursor:pointer;align-items:center;gap:12px;margin-bottom:8px;padding:16px;font-size:15px;transition:background .2s,border-color .2s;display:flex}.sheet-option:hover{background:var(--accent-subtle);border-color:var(--accent)}.option-icon{font-size:24px}.sheet-cancel{width:100%;color:var(--text-muted);cursor:pointer;background:0 0;border:none;margin-top:8px;padding:14px;font-size:14px}.sheet-cancel:hover{color:var(--text-primary)}.analysis-popup-overlay{z-index:100;background:#000c;justify-content:center;align-items:center;padding:16px;animation:.2s fadeIn;display:flex;position:fixed;inset:0}.analysis-popup{background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-xl);width:100%;max-width:500px;max-height:85vh;padding:20px;animation:.3s popIn;position:relative;overflow-y:auto}@keyframes popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.popup-close{background:var(--bg-tertiary);border:1px solid var(--border);width:32px;height:32px;color:var(--text-muted);cursor:pointer;border-radius:50%;justify-content:center;align-items:center;font-size:16px;transition:background .2s;display:flex;position:absolute;top:16px;right:16px}.popup-close:hover{background:var(--accent-subtle);color:var(--accent)}.analysis-popup h2{color:var(--accent);margin-bottom:16px;font-family:Outfit,sans-serif;font-size:18px;font-weight:600}.analysis-popup h3{color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:8px;font-family:Outfit,sans-serif;font-size:14px;font-weight:600}.popup-score-section{flex-direction:column;align-items:center;gap:8px;margin-bottom:20px;display:flex}.popup-score{align-items:baseline;gap:4px;display:flex}.popup-score-value{background:linear-gradient(135deg,var(--accent)0%,var(--accent-hover)100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;font-family:Outfit,sans-serif;font-size:56px;font-weight:700}.popup-score-label{color:var(--text-muted);font-size:20px}.popup-summary,.popup-comment{background:var(--bg-tertiary);border-radius:var(--radius-md);margin-bottom:16px;padding:12px}.popup-summary p,.popup-comment p{color:var(--text-secondary);font-size:13px;line-height:1.6}.popup-categories{margin-top:16px}.popup-category-row{border-bottom:1px solid var(--border);padding:12px 0}.popup-category-row:last-child{border-bottom:none}.popup-category-header{justify-content:space-between;align-items:center;margin-bottom:6px;font-size:14px;font-weight:500;display:flex}.popup-category-score{color:var(--accent);font-weight:600}.popup-category-comment{color:var(--text-secondary);margin-bottom:4px;font-size:13px;line-height:1.5}.popup-category-improvement{color:var(--text-muted);font-size:12px;font-style:italic}.radar-chart{width:100%;max-width:180px;margin:0 auto;display:block}.radar-grid{fill:none;stroke:var(--border);stroke-width:1px}.radar-axis{stroke:var(--border);stroke-width:1px}.radar-area{fill:var(--accent-subtle);stroke:var(--accent);stroke-width:2px}.radar-label{fill:var(--text-muted);font-size:9px}.badge{background:var(--accent-subtle);color:var(--accent);text-transform:uppercase;letter-spacing:.03em;border-radius:999px;align-items:center;gap:6px;padding:6px 10px;font-size:10px;font-weight:600;display:inline-flex}.button{background:linear-gradient(135deg,var(--accent)0%,#d97706 100%);color:#000;cursor:pointer;border:none;border-radius:999px;padding:12px 20px;font-size:14px;font-weight:600;transition:transform .2s,box-shadow .2s}.button:disabled{opacity:.5;cursor:not-allowed}.button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #f59e0b4d}.footer-note{color:var(--text-muted);font-size:11px}@media (min-width:768px){.header{padding:16px 24px}.header h1{font-size:22px}.header p{font-size:13px;display:block}.main{flex-direction:row}.mobile-layout{border-right:1px solid var(--border);flex:1}.tabs-section{display:none}.sidebar{background:var(--bg-glass);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);flex-direction:column;gap:16px;width:380px;height:100%;padding:20px;display:flex;overflow-y:auto}.sidebar::-webkit-scrollbar{width:6px}.sidebar::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}.sidebar-section{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:16px}.sidebar-section h2{color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:12px;font-family:Outfit,sans-serif;font-size:14px;font-weight:600}.dropzone{border:2px dashed var(--border);background:var(--accent-subtle);border-radius:var(--radius-md);text-align:center;flex-direction:column;gap:10px;padding:20px;transition:border-color .2s,background .2s;display:flex}.dropzone:hover{border-color:var(--accent)}.dropzone p{color:var(--text-secondary);font-size:13px}.dropzone input{display:none}.photo-grid{grid-template-columns:1fr 1fr;gap:8px;display:grid}.photo-item{position:relative}.photo-label{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);color:var(--text-primary);text-transform:uppercase;letter-spacing:.05em;background:#000000b3;border-radius:4px;padding:4px 8px;font-size:10px;font-weight:600;position:absolute;top:8px;left:8px}.preview{aspect-ratio:4/3;border-radius:var(--radius-sm);border:1px solid var(--border);background:var(--bg-tertiary);width:100%;overflow:hidden}.preview img{object-fit:contain;width:100%;height:100%;display:block}.score-overview{align-items:baseline;gap:8px;margin-bottom:12px;display:flex}.score-label{color:var(--text-muted);font-size:12px}.score-value{background:linear-gradient(135deg,var(--accent)0%,var(--accent-hover)100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;font-family:Outfit,sans-serif;font-size:32px;font-weight:700}.category-list{gap:12px;margin-top:12px;display:grid}.category-row{border-bottom:1px solid var(--border);padding-bottom:12px}.category-row:last-child{border-bottom:none;padding-bottom:0}.category-header{justify-content:space-between;align-items:center;font-size:13px;font-weight:500;display:flex}.category-score{color:var(--accent);font-weight:600}.category-row p{color:var(--text-secondary);margin-top:4px;font-size:12px;line-height:1.6}.category-improvement{color:var(--text-muted);font-style:italic}.embedded-photo-card,.embedded-analysis-card{display:none}.composer{padding:16px 24px}.composer textarea{min-height:48px}.camera-button{display:none}.chat-messages{gap:16px;padding:24px}.message{max-width:85%;padding:14px 18px}.radar-chart{max-width:200px}}.slide-menu-overlay{z-index:200;pointer-events:none;background:0 0;transition:background .3s;position:fixed;inset:0}.slide-menu-overlay.active{pointer-events:auto;background:#0009}.slide-menu{background:var(--bg-secondary);z-index:201;flex-direction:column;width:85%;max-width:320px;transition:transform .3s cubic-bezier(.4,0,.2,1);display:flex;position:fixed;top:0;bottom:0;left:0;transform:translate(-100%);box-shadow:4px 0 24px #0006}.slide-menu.open{transform:translate(0)}.slide-menu-header{border-bottom:1px solid var(--border);flex-shrink:0;justify-content:space-between;align-items:center;padding:16px 20px;display:flex}.slide-menu-header h2{background:linear-gradient(135deg,var(--text-primary)0%,var(--accent)100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;font-family:Outfit,sans-serif;font-size:18px;font-weight:600}.slide-menu-close{background:var(--bg-tertiary);border:1px solid var(--border);cursor:pointer;width:36px;height:36px;color:var(--text-secondary);border-radius:50%;justify-content:center;align-items:center;transition:border-color .2s,color .2s;display:flex}.slide-menu-close:hover{border-color:var(--accent);color:var(--accent)}.slide-menu-close svg{width:18px;height:18px}.slide-menu-content{flex:1;padding:12px;overflow-y:auto}.session-list{flex-direction:column;gap:8px;display:flex}.session-list-loading{color:var(--text-secondary);flex-direction:column;justify-content:center;align-items:center;gap:12px;padding:48px 16px;font-size:14px;display:flex}.loading-spinner{border:2px solid var(--border);border-top-color:var(--accent);border-radius:50%;width:24px;height:24px;animation:.8s linear infinite spin}@keyframes spin{to{transform:rotate(360deg)}}.session-new-button{background:linear-gradient(135deg,var(--accent)0%,#d97706 100%);border-radius:var(--radius-md);color:#000;cursor:pointer;border:none;justify-content:center;align-items:center;gap:8px;padding:14px 16px;font-size:14px;font-weight:600;transition:transform .2s,box-shadow .2s;display:flex}.session-new-button:hover{transform:translateY(-1px);box-shadow:0 4px 12px #f59e0b4d}.session-new-button svg{width:18px;height:18px}.session-list-empty{text-align:center;color:var(--text-muted);padding:32px 16px}.session-list-empty p{margin-bottom:8px;font-size:14px}.session-list-empty-hint{font-size:12px}.session-items{flex-direction:column;gap:4px;margin-top:8px;list-style:none;display:flex}.session-item{background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-md);cursor:pointer;text-align:left;width:100%;padding:12px 14px;transition:background .2s,border-color .2s}.session-item:hover{background:var(--bg-card);border-color:var(--text-muted)}.session-item.active{background:var(--accent-subtle);border-color:var(--accent)}.session-item-main{justify-content:space-between;align-items:center;margin-bottom:6px;display:flex}.session-item-title{color:var(--text-primary);white-space:nowrap;text-overflow:ellipsis;flex:1;margin-right:8px;font-size:14px;font-weight:500;overflow:hidden}.session-item-score{color:var(--accent);white-space:nowrap;font-family:Outfit,sans-serif;font-size:13px;font-weight:600}.session-item-meta{color:var(--text-muted);justify-content:space-between;font-size:12px;display:flex}.session-item-messages,.session-item-date{white-space:nowrap}.my-page-button{background:var(--bg-tertiary);border:1px solid var(--border);color:var(--text-secondary);cursor:pointer;border-radius:999px;align-items:center;gap:6px;padding:8px 14px;font-size:12px;font-weight:500;transition:border-color .2s,color .2s;display:flex}.my-page-button:hover{border-color:var(--accent);color:var(--accent)}.my-page-button svg{width:16px;height:16px}@media (min-width:768px){.slide-menu{width:320px}}
